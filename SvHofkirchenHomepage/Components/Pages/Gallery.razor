@page "/gallery"
@using SvHofkirchenHomepage.Services
@using Radzen
@using Radzen.Blazor
@inject DataService DataService

<PageTitle>Galerie</PageTitle>

<RadzenText TextStyle="TextStyle.H3" Style="text-align: center; margin: 20px 0;">ðŸ“¸ Bildergalerie</RadzenText>

@if (Images.Count == 0)
{
    <p style="text-align: center;">Lade Bilder...</p>
}
else
{
    <div style="padding: 20px;">
        <RadzenDataList WrapItems="true" AllowPaging="true" Data="@Images" TItem="string" PageSize="12">
            <Template Context="imagePath">
                <RadzenCard Style="width: 300px; height: 300px; margin: 10px; padding: 0; overflow: hidden; position: relative;">
                    <a href="@imagePath" target="_blank">
                        <img src="@imagePath" style="width: 100%; height: 100%; object-fit: cover; transition: transform .5s ease;" class="gallery-img" />
                    </a>
                </RadzenCard>
            </Template>
        </RadzenDataList>
    </div>
}

<style>
    .gallery-img:hover {
        transform: scale(1.1);
    }
</style>

@code {
    private List<string> Images = new();

    protected override async Task OnInitializedAsync()
    {
        var data = await DataService.GetDataAsync();
        if (data.Image != null)
        {
            // Pfade aus der DB holen (z.B. "Images/bild.jpg")
            Images = data.Image
                .Where(i => !string.IsNullOrEmpty(i.ImagePath))
                .Select(i => i.ImagePath)
                .ToList();
        }
    }
}